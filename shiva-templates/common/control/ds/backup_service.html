<!-- BEGIN common/control/ds/backup_service.html -->
<call draw_tooltip()>

<assign ds = account.getResource(request.ds_id)>
<assign backup=ds.getChild("backup")>
<assign tasks=backup.backup_tasks>


<call draw_table_header("2", lang.ds.backup_service.header)>
<tr>
  <td><call draw_label(lang.ds.backup_service.server_name)></td>
  <td><call draw_label(ds.full_name)></td>
</tr>
<tr>
  <td><call draw_label(lang.ds.backup_service.regular_basis)></td>
  <td><call draw_label(backup.regular_basis_description)>&nbsp;<call draw_palink(config.CLIENT_CP_URL+"?template_name=ds/setup_backup.html&ds_id="+ds+"&backup_id="+backup, "edit", "")></td>
</tr>
<tr>
  <td><call draw_label(lang.ds.backup_service.add_custom_task)></td>
  <td><call draw_palink(config.CLIENT_CP_URL+"?template_name=ds/add_backup_task.html&backup_id="+backup+"&ds_id="+ds+"&stemplate="+template, "add", "")></td>
</tr>
<tr>
  <td colspan="2">
    <call draw_table_header("4", lang.ds.backup_service.schedule)>
      <tr>
        <td class="control_align_center"><call draw_label(lang.ds.backup_service.task_type.header)></td>
        <td class="control_align_center"><call draw_label(lang.ds.backup_service.task.scheduled)></td>
        <td class="control_align_center"><call draw_label(lang.ds.backup_service.task.processed)></td>
        <td class="control_align_center"><call draw_label(lang.ds.backup_service.task.status)></td>
      </tr>
      <list tasks as task>
        <tr>
          <td class="control_align_center"><call draw_label(task.type_description)></td>
          <td class="control_align_center"><call draw_label(task.scheduled_on)></td>
          <td class="control_align_center"><call draw_label(task.processed_on)></td>
          <td class="control_align_center"><call draw_label(task.status_description)></td>
        </tr>
      </list>
    <call draw_table_footer()>
  </td>
</tr>
<call draw_table_footer()>
<!-- END common/control/ds/backup_service.html -->
